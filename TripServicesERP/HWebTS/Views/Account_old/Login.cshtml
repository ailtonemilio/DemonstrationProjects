@model HWebTS.Models.ACCESS

@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Login.cshtml";
}

<link href="~/Content/font-awesome.css" rel="stylesheet" />

@using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal" }))
{
    //cria a tag do formulário
    @Html.AntiForgeryToken()
    // previne o ataque CSRF
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    if (@ViewBag.Message != null)
    {
        <div style="border:1px solid red">
            @ViewBag.Message
        </div>
    }

    <div>
        <div class="text-center">
            <img src="~/images/logo.png" width="200" alt="Trip Services Logo">
        </div>
        <hr>
        <div class="tab-content">
            <div id="login" class="tab-pane active">
                <form action="index.html">
                    <p class="text-white text-center">
                        Enter your username and password
                    </p>
                    <br />

                    @Html.TextBoxFor(Model => Model.UserLogin, new { @class = "form-control", placeholder = "username", autofocus = "autofocus", required = "required" })
                    @Html.ValidationMessageFor(Model => Model.UserLogin, "", new { @class = "text-danger" })
                    
                    @Html.PasswordFor(Model => Model.Password, new { @class = "form-control text-danger", placeholder = "password", required = "required", type = "password" })
                    @Html.ValidationMessageFor(Model => Model.Password, "", new { @class = "text-danger" })

                    <br />

                    @*<input type="submit" value="Acessar" class="btn primary btn-lg" />*@
                    <button class="btn btn-lg btn-danger btn-block" type="submit" value="Acessar" data-loading-text="<i class='fa fa-spinner fa-spin '></i> Checking user">Sign in</button>


                </form>
            </div>
            <div id="forgot" class="tab-pane">
                <form action="index.html">
                    <p class="text-white text-center">Contact the Administrator and request a new password.</p>
                    @*<input type="email" placeholder="mail@domain.com" class="form-control">
                    <br>
                    <button class="btn btn-lg btn-danger btn-block" type="submit">Recover Password</button>*@

                    @*<button type="button" class="btn btn-lg btn-danger btn-block" type="submit" id="sendemail" data-loading-text="<i class='fa fa-spinner fa-spin '></i> Sending email">Recover Password</button>*@
                </form>
            </div>
            <div id="signup" class="tab-pane">
                <form action="index.html">
                    <input type="text" placeholder="username" class="form-control top">
                    <input type="email" placeholder="mail@domain.com" class="form-control middle">
                    <input type="password" placeholder="password" class="form-control middle">
                    <input type="password" placeholder="re-password" class="form-control bottom">
                    <button class="btn btn-lg btn-success btn-block" type="submit">Register</button>
                </form>
            </div>
        </div>
        <hr>
        <div class="text-center">
            <ul class="list-inline">
                <li><a class="text-muted" href="#login" data-toggle="tab">Login</a></li>
                <li><a class="text-muted" href="#forgot" data-toggle="tab">Forgot Password</a></li>
                @*<li><a class="text-muted" href="#signup" data-toggle="tab">Signup</a></li>*@
            </ul>
        </div>
        <div class="text-center">

        </div>
    </div>
}
@section Scripts{
    @Scripts.Render("~/Bundles/js")

    <script>
        $('.btn').on('click', function () {
            var $this = $(this);
            $this.button('Checking user');
            setTimeout(function () {
                $this.button('reset');
            }, 8000);
        });
    </script>

    <script>
        $('.btn').on('click', function () {
            var $this = $(this);
            $this.button('loading');
            setTimeout(function () {
                $this.button('reset');
            }, 8000);
        });
    </script>

}

